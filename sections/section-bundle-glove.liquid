{{ 'section-bundle.css' | asset_url | stylesheet_tag }}
{{ 'section-popup.css' | asset_url | stylesheet_tag }}
{{ 'section-bundle-glove.css' | asset_url | stylesheet_tag }}

<div class="section-banner__wrapper">
    <div class="section-banner__wrap">
        <p class="section-banner__caption">
            <svg xmlns="http://www.w3.org/2000/svg" width="104" height="19" viewBox="0 0 104 19" fill="none">
                <path d="M10.3736 0.124023L12.7026 6.49131H20.2394L14.142 10.4265L16.471 16.7938L10.3736 12.8586L4.27614 16.7938L6.60515 10.4265L0.507718 6.49131H8.04456L10.3736 0.124023Z" fill="white"/>
                <path d="M31.1206 0.124023L33.4496 6.49131H40.9865L34.8891 10.4265L37.2181 16.7938L31.1206 12.8586L25.0232 16.7938L27.3522 10.4265L21.2548 6.49131H28.7916L31.1206 0.124023Z" fill="white"/>
                <path d="M51.8677 0.124023L54.1967 6.49131H61.7336L55.6361 10.4265L57.9651 16.7938L51.8677 12.8586L45.7703 16.7938L48.0993 10.4265L42.0019 6.49131H49.5387L51.8677 0.124023Z" fill="white"/>
                <path d="M72.6148 0.124023L74.9438 6.49131H82.4806L76.3832 10.4265L78.7122 16.7938L72.6148 12.8586L66.5173 16.7938L68.8464 10.4265L62.7489 6.49131H70.2858L72.6148 0.124023Z" fill="white"/>
                <path d="M93.3618 0.124023L95.6909 6.49131H103.228L97.1303 10.4265L99.4593 16.7938L93.3618 12.8586L87.2644 16.7938L89.5934 10.4265L83.496 6.49131H91.0328L93.3618 0.124023Z" fill="white"/>
            </svg>
            Trusted by 20,000+ Keepers
        </p>
        <h2 class="section-banner__title">Build your own glove bundle</h2>
        <div class="section-banner__items">
            <div class="section-banner__item">
                <p class="section-banner__pair">2 Pairs</p>
                <div class="section-banner__prices">
                    <p class="section-banner__prevprice">
                        {% if cart.currency.iso_code == "USD" %}
                            $148.75
                        {% elsif cart.currency.iso_code == "EUR" %}
                            €130.87
                        {% else %}
                            £109.89
                        {% endif %}
                    </p>
                    <p class="section-banner__price">
                        {% if cart.currency.iso_code == "USD" %}
                            $121.82
                        {% elsif cart.currency.iso_code == "EUR" %}
                            €107.18
                        {% else %}
                            £90.00
                        {% endif %}
                    </p>
                </div>
                <p class="section-banner__description">Most Popular</p>
                <div class="section-banner__discount">Save 25%</div>
            </div>
            <div class="section-banner__item">
                <p class="section-banner__pair">3 Pairs</p>
                <div class="section-banner__prices">
                    <p class="section-banner__prevprice">
                        {% if cart.currency.iso_code == "USD" %}
                            $274.71
                        {% elsif cart.currency.iso_code == "EUR" %}
                            €241.69
                        {% else %}
                            £202.95
                        {% endif %}
                    </p>
                    <p class="section-banner__price">
                        {% if cart.currency.iso_code == "USD" %}
                            $162.43
                        {% elsif cart.currency.iso_code == "EUR" %}
                            €142.91
                        {% else %}
                            £120.00
                        {% endif %}
                    </p>
                </div>
                <p class="section-banner__description">Best Value</p>
                <div class="section-banner__discount">Save 53%</div>
            </div>
            <div class="section-banner__item active">
                <p class="section-banner__pair">4 Pairs</p>
                <div class="section-banner__prices">
                    <p class="section-banner__prevprice">
                        {% if cart.currency.iso_code == "USD" %}
                            $297.74
                        {% elsif cart.currency.iso_code == "EUR" %}
                            €261.95
                        {% else %}
                            £219.96
                        {% endif %}
                    </p>
                    <p class="section-banner__price">
                        {% if cart.currency.iso_code == "USD" %}
                            $203.04
                        {% elsif cart.currency.iso_code == "EUR" %}
                            €178.64
                        {% else %}
                            £150.00
                        {% endif %}
                    </p>
                </div>
                <p class="section-banner__description">Best Deal</p>
                <div class="section-banner__discount">Save 62%</div>
            </div>
        </div>
    </div>
    <div class="section-banner__image">
        <img src="https://cdn.shopify.com/s/files/1/0667/5877/0944/files/MPH00194.jpg?v=1747936137" alt="photo">
        <img src="https://cdn.shopify.com/s/files/1/0667/5877/0944/files/MPH00189.jpg?v=1748090341" alt="photo">
    </div>
</div>

<div class="page-width">
    <div class="section-glove__wrapper">
        <div class="section-glove__items">
            {% for product in collections['gloves'].products %}
                <div class="bundle__products-item">
                    <div class="bundle__products-image">
                        <img src="{{ product.images[0] | img_url: 'medium' }}" alt="{{ product.title }}" />
                        {% if product.tags contains 'fingersave' %}
                            <span class="card-top-badge">Fingersave</span>
                        {% elsif product.tags contains 'best-seller' %}
                            <span class="card-top-badge">Best Seller</span>
                        {% elsif product.tags contains 'new-in' %}
                            <span class="card-top-badge">New In</span>
                        {% endif %}
                    </div>
                    <button data-buttonPopup="{{ product.id }}" class="bundle__products-button">
                        Add
                        <svg width="8" height="7" viewBox="0 0 8 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.42857 4H0V3H3.42857V0H4.57143V3H8V4H4.57143V7H3.42857V4Z" fill="white"/>
                        </svg>
                    </button>
                    <p class="bundle__products-title">{{ product.title }}</p>
                    <p class="bundle__products-subtitle">{{ product.metafields.custom.glove_type }}</p>
                    <p class="bundle__products-price">{{ product.price | money }}</p>
                    <div id="popup-{{ product.id }}" class="popup special">
                        <div class="popup__content relative special">
                            <div class="popup__images">
                                {% for image in product.images %}
                                    <img
                                        src="{{ image | img_url: 'master' }}"
                                        alt="Product image"
                                        class="popup__image"
                                    >
                                {% endfor %}
                            </div>
                            <div class="popup__stars">
                                <div data-reviews="{{ product.id }}">
                                    <div class="loox-rating"
                                        data-id="{{ product.id }}"
                                        data-rating="{{ product.metafields.loox.avg_rating }}"
                                        data-raters="{{ product.metafields.loox.num_reviews }}">
                                    </div>
                                </div>
                            </div>
                            <div class="popup__wrapper">
                                <h2 class="popup__title">{{ product.title }}</h3>
                                <h3 class="popup__price">{{ product.price | money }}</h3>
                            </div>
                            <div class="popup__tags">
                                <div class="popup__tag">Fingersaves</div>
                                <div class="popup__tag">Ultra Lightweight</div>
                                <div class="popup__tag">{{ product.metafields.custom.glove_type }}</div>
                            </div>
                            <h4 class="popup__color">COLOUR :</h4>
                            <ul class="popup__list">
                                {% for related_product in collections.all.products %}
                                    {% assign first_word = related_product.title | split: ' ' | first %}
                                    {% assign current_word = product.title | split: ' ' | first %}
                                    {% if first_word == current_word %}
                                        <li class="popup__item">
                                            <button data-productId="{{ related_product.id }}" class="popup__button">
                                                <img
                                                    src="{{ related_product.featured_image | img_url: '300x' }}"
                                                    alt="photo"
                                                >
                                            </button>
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                            <div class="popup__wrap">
                                <h4 class="popup__size">
                                    SIZE: <span class="selected-size"></span>
                                </h4>
                                <button
                                    class="popup__modal-button"
                                    data-modal="{{ product.id }}"
                                >
                                    HELP ME CHOOSE
                                </button>
                                <div id="helpchoose-{{ product.id }}" class="popup__help">
                                    <div class="popup__help-content">
                                        <button
                                            data-modal="{{ product.id }}"
                                            class="popup__help-close"
                                        >
                                            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" class="icon icon-close" fill="none" viewBox="0 0 18 17">
                                                <path d="M.865 15.978a.5.5 0 00.707.707l7.433-7.431 7.579 7.282a.501.501 0 00.846-.37.5.5 0 00-.153-.351L9.712 8.546l7.417-7.416a.5.5 0 10-.707-.708L8.991 7.853 1.413.573a.5.5 0 10-.693.72l7.563 7.268-7.418 7.417z" fill="currentColor">
                                                </path>
                                            </svg>
                                        </button>
                                        {{ section.settings.page.content }}
                                    </div>
                                </div>
                            </div>
                            <div class="popup__sizes">
                                {% for variant in product.variants %}
                                    {% if variant.available %}
                                        <button
                                            class="popup__btn"
                                            data-variant-id="{{ variant.id }}"
                                        >
                                            {{ variant.option1 }}
                                        </button>
                                    {% else %}
                                        <button
                                            class="popup__btn"
                                            disabled
                                        >
                                            {{ variant.option1 }}
                                        </button>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <div class="desktop-tabs">
                                <div class="desktop-tabs__item">
                                    <span class="desktop-tabs__title" data-title>
                                        DETAILS
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                            <path d="M14.625 6.75L9 12.375L3.375 6.75" stroke="black" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </span>
                                    <div data-content>
                                        <h1>Details</h1>
                                        <p>Our first-ever Fingersave model - built for keepers who want more support without sacrificing feel.</p><p>Finished in a <strong>negative cut</strong> for that close, second-skin fit, with <strong>removable Fingersave spines</strong> so you can choose the level of protection you want. Extra reinforcement when you need it, full flexibility when you don’t.</p><p>The <strong>3.5mm latex + 4mm foam palm</strong> gives you pro-level grip in all conditions, while the <strong>embossed latex backhand</strong> and <strong>8mm foam</strong> provide comfort and impact absorption, finished with <strong>mesh lamination</strong> for added breathability.</p><p>A <strong>latex strap with velcro closure</strong> and <strong>elasticated cuff</strong> keeps things locked in, and the <strong>mesh gussets</strong> allow airflow throughout the fingers.<br><br>Other details:<br><br><strong>- Velcro pocket</strong> under the backhand for spine access<br><br><strong>- Hanging loop</strong> for easy drying<br><br>- Comes in a premium <strong>zippered glove bag</strong></p>
                                    </div>
                                </div>
                                <div class="desktop-tabs__item">
                                    <span class="desktop-tabs__title" data-title>
                                        WASH & CARE
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                            <path d="M14.625 6.75L9 12.375L3.375 6.75" stroke="black" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </span>
                                    <div data-content>
                                        <h1>WASH & CARE</h1>
                                        <p><span class="metafield-multi_line_text_field">- Fill a sink or basin with lukewarm water and add mild detergent.<br>
                                        <br>
                                        - Immerse the gloves and gently rub them to remove dirt and sweat.<br>
                                        <br>
                                        - Rinse the gloves thoroughly with clean water.<br>
                                        <br>
                                        - Squeeze out excess water and pat dry with a towel.<br>
                                        <br>
                                        - Air dry the gloves away from direct sunlight or heat sources.</span></p>
                                    </div>
                                </div>
                                <div class="desktop-tabs__item">
                                    <span class="desktop-tabs__title" data-title>
                                        SHIPPING & RETURN
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                            <path d="M14.625 6.75L9 12.375L3.375 6.75" stroke="black" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </span>
                                    <div data-content>
                                        <h1>SHIPPING & RETURN</h1>
                                        <p><span class="metafield-multi_line_text_field">UK (&amp; NORTHERN IRELAND): Enjoy complimentary shipping on orders over £100, dispatched from our London base through Royal Mail. For orders below £100, a standard shipping fee of £5.00 applies, while next-day delivery is available at £7.00.<br>
                                        <br>
                                        USA: Choose our Standard Untracked option for £5.00, or upgrade to Premium Tracked shipping for £10.00.<br>
                                        <br>
                                        EUROPE &amp; IRELAND: Choose our Standard Untracked option for £5.00, or upgrade to Premium Tracked shipping for £10.00.<br>
                                        <br>
                                        We post nearly every order within 24 hours. If you order before noon - we will try to ship the same day. Average shipping time is about 2-3 days, and we charge a nominal fee which covers shipping and handling.</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="popup__container">
                                <select
                                    class="popup__quantity-selector"
                                >
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                </select>
            
                                <button class="popup__submit">ADD to cart</button>
                            </div>
                            <button class="popup__close">
                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" class="icon icon-close" fill="none" viewBox="0 0 18 17">
                                    <path d="M.865 15.978a.5.5 0 00.707.707l7.433-7.431 7.579 7.282a.501.501 0 00.846-.37.5.5 0 00-.153-.351L9.712 8.546l7.417-7.416a.5.5 0 10-.707-.708L8.991 7.853 1.413.573a.5.5 0 10-.693.72l7.563 7.268-7.418 7.417z" fill="currentColor">
                                    </path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="section-glove__wrap">
            <div class="section-glove__bundle">
                <h1 class="section-glove__title">Your bundle</h1>
                <div class="section-glove__content">
                    <div class="section-glove__list">
                        <div class="section-glove__element empty">
                            <div class="section-glove__photo"><p>GLOVE </p><span>1</span></div>
                        </div>
                        <div class="section-glove__element empty">
                            <div class="section-glove__photo"><p>GLOVE </p><span>2</span></div>
                        </div>
                        <div class="section-glove__element empty">
                            <div class="section-glove__photo"><p>GLOVE </p><span>3</span></div>
                        </div>
                        <div class="section-glove__element empty">
                            <div class="section-glove__photo"><p>GLOVE </p><span>4</span></div>
                        </div>
                    </div>
                    <div class="section-glove__footer">
                        <div class="section-glove__info">
                            <p class="section-glove__caption">Total Price</p>
                            <div class="section-glove__prices">
                                <p class="section-glove__cost">
                                    {% if cart.currency.iso_code == "USD" %}
                                        $203.04
                                    {% elsif cart.currency.iso_code == "EUR" %}
                                        €178.64
                                    {% else %}
                                        £150.00
                                    {% endif %}
                                </p>
                                <p class="section-glove__prevcost">
                                    {% if cart.currency.iso_code == "USD" %}
                                        $297.74
                                    {% elsif cart.currency.iso_code == "EUR" %}
                                        €261.95
                                    {% else %}
                                        £219.96
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                        <button disabled class="section-glove__submit">submit bundle</button>
                        <img class="section-glove__img" src="{{ 'payment.svg' | asset_url }}" alt="payment">
                    </div>
                </div>
            </div>
            <div class="banners">
                <div class="banners__item">
                  <img src="{{ 'icon-1.svg' | asset_url }}" alt="icon" />
                  <p class="banners__text">Fast Shipping</p>
                </div>
                <div class="banners__item">
                  <img src="{{ 'icon-2.svg' | asset_url }}" alt="icon" />
                  <p class="banners__text">Money-Back Guarantee</p>
                </div>
                <div class="banners__item">
                  <img src="{{ 'icon-3.svg' | asset_url }}" alt="icon" />
                  <p class="banners__text">Trusted by Pro Players</p>
                </div>
                <div class="banners__item">
                  <img src="{{ 'icon-4.svg' | asset_url }}" alt="icon" />
                  <p class="banners__text">20,000+ Satisfied Keepers</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-popup-image class="bundle__image">
    <button data-prev class="bundle__image-prev">
        <img src="{{ 'arrow-black.svg' | asset_url }}" alt="">
    </button>
    <img id="image" src="" alt="">
    <button data-next class="bundle__image-next">
        <img src="{{ 'arrow-black.svg' | asset_url }}" alt="">
    </button>
</div>

<style>
    .bundle__products-title,
    .bundle__products-subtitle,
    .bundle__products-price{
        text-align: center !important;
    }
</style>

<style>
    .desktop-tabs__item .desktop-tabs__title{
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-weight: 700;
        font-size: 14px;
        padding: 5px 15px;
        border-top: .5px solid grey;
        border-bottom: .5px solid grey;
        cursor: pointer;
    }

    .desktop-tabs__item{
        margin-bottom: 5px;
    }

    .desktop-tabs__item div{
        display: none;
        padding: 15px 0;
    }

    .desktop-tabs__item h1{
        font-size: 12px;
        font-weight: 700;
        margin: 0;
        margin-bottom: 5px;
    }

    .desktop-tabs__item p{
        font-size: 10px;
        margin: 0;
        margin-bottom: 5px;
    }

    .desktop-tabs__item.active div{
        display: block;
    }

    .desktop-tabs__item.active svg{
        transform: rotate(180deg);
    }

    .desktop-tabs{
        margin-bottom: 15px;
        margin-top: -5px;
    }

    @media (max-width: 750px) {
        .desktop-tabs__content *{
            font-size: 8px;
            line-height: 10px;
        }
    }
</style>

<script>
    const items = document.querySelectorAll(".desktop-tabs__item");
    const tags = document.querySelectorAll(".desktop-tabs__item [data-title]");

    tags.forEach((tag, i) => {
        tag.addEventListener("click", (e) => {
            const bool = items[i].classList.contains("active");

            items.forEach(item => {
                item.classList.remove("active");
            });

            if(!bool)
                items[i].classList.add("active");
        });
    });

    items.forEach(item => {
        item.classList.remove("active");
    });
</script>

{{ 'section-bundle-glove.js' | asset_url | script_tag }}

{% schema %}
    {
        "name": "section-bundle-glove",
        "tag": "section",
        "class": "section-bundle-glove",
        "settings": [
            {
                "id": "page",
                "type": "page",
                "label": "Page"
            }
        ],
        "presets" : [
            {
                "name" : "section-bundle-glove",
                "category" : "Custom"
            }
        ]
    }
{% endschema %}