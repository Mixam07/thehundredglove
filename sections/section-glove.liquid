{{ 'section-glove.css' | asset_url | stylesheet_tag }}
{{ 'custom.css' | asset_url | stylesheet_tag }}

<style>
    .header,
    .footer{
        display: none !important; 
    }
</style>

<div class="section-product__container container">
    <div class="section-product__wrapper">
        <div class="section-product__main-image">
            <div class="section-product__image">
                <img src="{{ section.settings.glove-photo-0 | img_url: 'original' }}" alt="main-photo">
            </div>
            <div class="section-product__images">
                <img src="{{ section.settings.glove-photo-0 | img_url: 'original' }}" alt="photo">
                <img src="{{ section.settings.glove-photo-1 | img_url: 'original' }}" alt="photo">
                <img src="{{ section.settings.glove-photo-2 | img_url: 'original' }}" alt="photo">
                <img src="{{ section.settings.glove-photo-3 | img_url: 'original' }}" alt="photo">
                <img src="{{ section.settings.glove-photo-4 | img_url: 'original' }}" alt="photo">
                <img src="{{ section.settings.glove-photo-5 | img_url: 'original' }}" alt="photo">
            </div>
        </div>
        <div class="section-product__info">
            <div class="section-product__wrap">
                <p class="section-product__mark">{{ section.settings.glove-mark  }}</p>
                <div class="section-product__stars">
                    <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                    <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                    <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                    <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                    <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                </div>
                <p class="section-product__evaluation">{{ section.settings.glove-evaluation  }}</p>
                <p class="section-product__reviews">{{ section.settings.glove-reviews  }}</p>
            </div>
            <h1 class="section-product__title">{{ section.settings.glove-title  }}</h1>
            <h2 class="section-product__description">{{ section.settings.glove-subtitle  }}</h2>
            <div class="custom-shipping-container section-product__label">
              <div class="custom-shipping-item">
                <svg class="green-circle" xmlns="http://www.w3.org/2000/svg" width="6" height="13" viewBox="0 0 12 13" fill="none">
                  <circle cx="6" cy="6.5" r="6" fill="#2A555A"></circle>
                </svg>
                <div class="text-block-shipping section-product__lettering">Ships by <span id="shipping-date" class="shipping-date section-product__bold">Mon, Jun 24</span></div>
              </div>
              <div class="custom-shipping-item">
                <p id="locationinfop" class="section-product__lettering">🇺🇸 <span style=" color: black;font-weight:bold;">Fast </span>US Shipping</p>
              </div>
            </div>
            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    var daysAfterToday = 2; // Set this to the number of days after today that the item will ship
                    var today = new Date();
                    var shipDate = new Date(today);
                    var options = { weekday: 'short', month: 'short', day: 'numeric' };
            
                    // Function to skip Sundays
                    function calculateShippingDate(date, daysToAdd) {
                        date.setDate(date.getDate() + daysToAdd);
            
                        // If the calculated shipping date is a Sunday, add one more day
                        if (date.getDay() === 0) {
                            date.setDate(date.getDate() + 1);
                        }
            
                        return date;
                    }
            
                    // Calculate the shipping date
                    shipDate = calculateShippingDate(shipDate, daysAfterToday);
                    var formattedDate = shipDate.toLocaleDateString('en-US', options);
            
                    // Update the shipping date in the HTML
                    document.getElementById('shipping-date').textContent = formattedDate;
                });
                
                // A mapping of country codes to flag emojis
                const countryFlags = {
                'US': 'https://flagpedia.net/data/flags/h80/us.png',
                'CA': 'https://flagpedia.net/data/flags/h80/ca.png',
                'FR': 'https://flagpedia.net/data/flags/h80/fr.png',
                'NL': 'https://flagpedia.net/data/flags/h80/nl.png',
                'DE': 'https://flagpedia.net/data/flags/h80/de.png',
                'GB': 'https://flagpedia.net/data/flags/h80/gb.png',
                'IT': 'https://flagpedia.net/data/flags/h80/it.png',
                'ES': 'https://flagpedia.net/data/flags/h80/es.png',
                'CN': 'https://flagpedia.net/data/flags/h80/cn.png',
                'JP': 'https://flagpedia.net/data/flags/h80/jp.png',
                'BR': 'https://flagpedia.net/data/flags/h80/br.png',
                'IN': 'https://flagpedia.net/data/flags/h80/in.png',
                'RU': 'https://flagpedia.net/data/flags/h80/ru.png',
                'ZA': 'https://flagpedia.net/data/flags/h80/za.png',
                'AU': 'https://flagpedia.net/data/flags/h80/au.png',
                'NZ': 'https://flagpedia.net/data/flags/h80/nz.png',
                'MX': 'https://flagpedia.net/data/flags/h80/mx.png',
                'AR': 'https://flagpedia.net/data/flags/h80/ar.png',
                'CL': 'https://flagpedia.net/data/flags/h80/cl.png',
                'CO': 'https://flagpedia.net/data/flags/h80/co.png',
                'PE': 'https://flagpedia.net/data/flags/h80/pe.png',
                'VE': 'https://flagpedia.net/data/flags/h80/ve.png',
                'EC': 'https://flagpedia.net/data/flags/h80/ec.png',
                'GT': 'https://flagpedia.net/data/flags/h80/gt.png',
                'HN': 'https://flagpedia.net/data/flags/h80/hn.png',
                'SA': 'https://flagpedia.net/data/flags/h80/sa.png',
                'AE': 'https://flagpedia.net/data/flags/h80/ae.png',
                'TR': 'https://flagpedia.net/data/flags/h80/tr.png',
                'TH': 'https://flagpedia.net/data/flags/h80/th.png',
                'MY': 'https://flagpedia.net/data/flags/h80/my.png',
                'SG': 'https://flagpedia.net/data/flags/h80/sg.png',
                'ID': 'https://flagpedia.net/data/flags/h80/id.png',
                'PH': 'https://flagpedia.net/data/flags/h80/ph.png',
                'VN': 'https://flagpedia.net/data/flags/h80/vn.png',
                'KR': 'https://flagpedia.net/data/flags/h80/kr.png',
                'KP': 'https://flagpedia.net/data/flags/h80/kp.png',
                'SE': 'https://flagpedia.net/data/flags/h80/se.png',
                'NO': 'https://flagpedia.net/data/flags/h80/no.png',
                'FI': 'https://flagpedia.net/data/flags/h80/fi.png',
                'DK': 'https://flagpedia.net/data/flags/h80/dk.png',
                'IS': 'https://flagpedia.net/data/flags/h80/is.png',
                'IE': 'https://flagpedia.net/data/flags/h80/ie.png',
                'CH': 'https://flagpedia.net/data/flags/h80/ch.png',
                'PT': 'https://flagpedia.net/data/flags/h80/pt.png',
                'BE': 'https://flagpedia.net/data/flags/h80/be.png',
                'LU': 'https://flagpedia.net/data/flags/h80/lu.png',
                'PL': 'https://flagpedia.net/data/flags/h80/pl.png',
                'CZ': 'https://flagpedia.net/data/flags/h80/cz.png',
                'SK': 'https://flagpedia.net/data/flags/h80/sk.png',
                'HU': 'https://flagpedia.net/data/flags/h80/hu.png',
                'AT': 'https://flagpedia.net/data/flags/h80/at.png',
                'LI': 'https://flagpedia.net/data/flags/h80/li.png',
                'GR': 'https://flagpedia.net/data/flags/h80/gr.png',
                'BG': 'https://flagpedia.net/data/flags/h80/bg.png',
                'RO': 'https://flagpedia.net/data/flags/h80/ro.png',
                'UA': 'https://flagpedia.net/data/flags/h80/ua.png',
                'BY': 'https://flagpedia.net/data/flags/h80/by.png',
                'LT': 'https://flagpedia.net/data/flags/h80/lt.png',
                'LV': 'https://flagpedia.net/data/flags/h80/lv.png',
                'EE': 'https://flagpedia.net/data/flags/h80/ee.png',
                'MD': 'https://flagpedia.net/data/flags/h80/md.png',
                'AM': 'https://flagpedia.net/data/flags/h80/am.png',
                'GE': 'https://flagpedia.net/data/flags/h80/ge.png',
                'AZ': 'https://flagpedia.net/data/flags/h80/az.png',
                'IR': 'https://flagpedia.net/data/flags/h80/ir.png',
                'IQ': 'https://flagpedia.net/data/flags/h80/iq.png',
                'SY': 'https://flagpedia.net/data/flags/h80/sy.png',
                'LB': 'https://flagpedia.net/data/flags/h80/lb.png',
                'JO': 'https://flagpedia.net/data/flags/h80/jo.png',
                'IL': 'https://flagpedia.net/data/flags/h80/il.png',
                'EG': 'https://flagpedia.net/data/flags/h80/eg.png',
                'MA': 'https://flagpedia.net/data/flags/h80/ma.png',
                'DZ': 'https://flagpedia.net/data/flags/h80/dz.png',
                'TN': 'https://flagpedia.net/data/flags/h80/tn.png',
                'LY': 'https://flagpedia.net/data/flags/h80/ly.png',
                'GM': 'https://flagpedia.net/data/flags/h80/gm.png',
                'SN': 'https://flagpedia.net/data/flags/h80/sn.png',
                'MR': 'https://flagpedia.net/data/flags/h80/mr.png',
                'ML': 'https://flagpedia.net/data/flags/h80/ml.png',
                'GN': 'https://flagpedia.net/data/flags/h80/gn.png',
                'CI': 'https://flagpedia.net/data/flags/h80/ci.png',
                'BF': 'https://flagpedia.net/data/flags/h80/bf.png',
                'NE': 'https://flagpedia.net/data/flags/h80/ne.png',
                'TG': 'https://flagpedia.net/data/flags/h80/tg.png',
                'BJ': 'https://flagpedia.net/data/flags/h80/bj.png',
                'NG': 'https://flagpedia.net/data/flags/h80/ng.png',
                'CM': 'https://flagpedia.net/data/flags/h80/cm.png',
                'GA': 'https://flagpedia.net/data/flags/h80/ga.png',
                'CG': 'https://flagpedia.net/data/flags/h80/cg.png',
                'CD': 'https://flagpedia.net/data/flags/h80/cd.png',
                'AO': 'https://flagpedia.net/data/flags/h80/ao.png',
                'GW': 'https://flagpedia.net/data/flags/h80/gw.png',
                'SC': 'https://flagpedia.net/data/flags/h80/sc.png',
                'SD': 'https://flagpedia.net/data/flags/h80/sd.png',
                'RW': 'https://flagpedia.net/data/flags/h80/rw.png',
                'ET': 'https://flagpedia.net/data/flags/h80/et.png',
                'SO': 'https://flagpedia.net/data/flags/h80/so.png',
                'DJ': 'https://flagpedia.net/data/flags/h80/dj.png',
                'KE': 'https://flagpedia.net/data/flags/h80/ke.png',
                'TZ': 'https://flagpedia.net/data/flags/h80/tz.png',
                'UG': 'https://flagpedia.net/data/flags/h80/ug.png',
                'BI': 'https://flagpedia.net/data/flags/h80/bi.png',
                'MZ': 'https://flagpedia.net/data/flags/h80/mz.png',
                'ZM': 'https://flagpedia.net/data/flags/h80/zm.png',
                'MW': 'https://flagpedia.net/data/flags/h80/mw.png',
                'LS': 'https://flagpedia.net/data/flags/h80/ls.png',
                'BW': 'https://flagpedia.net/data/flags/h80/bw.png',
                'NA': 'https://flagpedia.net/data/flags/h80/na.png',
                'ZA': 'https://flagpedia.net/data/flags/h80/za.png',
                'SZ': 'https://flagpedia.net/data/flags/h80/sz.png',
                // Add more mappings as necessary
                };
                
                
                // This function will be called to update the content of the #locationinfop p tag
                function setLocationInfo(countryCode, countryName) {
                const flagEmoji = countryFlags[countryCode]; // Get the flag emoji using the country code
                const locationInfoP = document.getElementById('locationinfop');
                
                if (locationInfoP) {
                    // Check if the flagEmoji exists. If it does, prepend it to the message
                    const shippingMessage = flagEmoji
                    ? `<img src="${flagEmoji}" alt="" /> <span style=" color: black;font-weight:bold;">Fast </span>${countryCode} Shipping`
                    : `📦 <span style=" color: black;font-weight:bold;">Fast </span>${countryCode} Shipping`; // Use a default package emoji if no flag is available
                
                    locationInfoP.innerHTML = shippingMessage;
                    
                }
                }
                
                // This function fetches the browsing context suggestions and updates the p tag
                async function fetchLocationInfo() {
                try {
                    const response = await fetch('/browsing_context_suggestions.json');
                    const data = await response.json();
                    // Use the detected country code and country name from the response
                    const countryCode = data.detected_values.country.handle;
                    const countryName = data.detected_values.country.name;
                    
                    // Update the location info p tag with the country name and flag emoji
                    setLocationInfo(countryCode, countryName);
                } catch (error) {
                    console.error('Error fetching location info:', error);
                }
                }
                
                // Call the function to fetch location info on DOM content load
                document.addEventListener('DOMContentLoaded', (event) => {
                fetchLocationInfo();
                });
            </script>
            <ul class="section-product__products">
                <li class="section-product__item">
                    <h3 class="section-product__item-title">1 Pair</h3>
                    <div class="section-product__item-photo">
                        <img src="{{ section.settings.glove-1-pair-photo | img_url: 'original' }}" alt="pair">
                    </div>
                    <div class="section-product__item-wrapper">
                        <p class="section-product__item-price">{{ section.settings.glove-1-pair-price  }}</p>
                        {% if section.settings.glove-1-pair-discount != blank %}
                            <p class="section-product__item-discount">
                                {{ section.settings.glove-1-pair-discount }}
                            </p>
                        {% endif %}
                    </div>
                </li>  
                <li class="section-product__item">
                    <div class="section-product__item-popular">MOST POPULAR</div>
                    <h3 class="section-product__item-title">2 Pair</h3>
                    <div class="section-product__item-photo">
                        <img src="{{ section.settings.glove-2-pair-photo | img_url: 'original' }}" alt="pair">
                    </div>
                    <div class="section-product__item-wrapper">
                        <p class="section-product__item-price">{{ section.settings.glove-2-pair-price  }}</p>
                        {% if section.settings.glove-2-pair-discount != blank %}
                            <p class="section-product__item-discount">
                                {{ section.settings.glove-2-pair-discount }}
                            </p>
                        {% endif %}
                    </div>
                </li>  
                <li class="section-product__item">
                    <div class="section-product__item-best">BEST VALUE</div>
                    <h3 class="section-product__item-title">3 Pair</h3>
                    <div class="section-product__item-photo">
                        <img src="{{ section.settings.glove-3-pair-photo | img_url: 'original' }}" alt="pair">
                    </div>
                    <div class="section-product__item-wrapper">
                        <p class="section-product__item-price">{{ section.settings.glove-3-pair-price  }}</p>
                        {% if section.settings.glove-3-pair-discount != blank %}
                            <p class="section-product__item-discount">
                                {{ section.settings.glove-3-pair-discount }}
                            </p>
                        {% endif %}
                    </div>
                </li>  
            </ul>
            <div class="section-product__inscription">
                <span class='section-product__bold'>Awesome!</span> You’ve Unlocked <span class='section-product__circle'>3</span> FREE Gifts
            </div>
            <ul class="section-product__list">
                <li class="section-product__option">
                    <div class="section-product__option-photo">
                        <img src="{{ section.settings.glove-1-gift-photo | img_url: 'original' }}" alt="photo">
                    </div>
                    <h3 class="section-product__option-title">{{ section.settings.glove-1-gift-title }}</h3>
                    <p class="section-product__option-discount">{{ section.settings.glove-1-gift-subtitle }}</p>
                    <div class="section-product__icon">
                        {% render 'gift-lock' %}
                    </div>
                </li>
                <li class="section-product__option">
                    <div class="section-product__option-photo">
                        <img src="{{ section.settings.glove-2-gift-photo | img_url: 'original' }}" alt="photo">
                    </div>
                    <h3 class="section-product__option-title">{{ section.settings.glove-2-gift-title }}</h3>
                    <p class="section-product__option-discount">{{ section.settings.glove-2-gift-subtitle }}</p>
                    <div class="section-product__icon">
                        {% render 'gift-lock' %}
                    </div>
                </li>
                <li class="section-product__option">
                    <div class="section-product__option-photo">
                        <img src="{{ section.settings.glove-3-gift-photo | img_url: 'original' }}" alt="photo">
                    </div>
                    <h3 class="section-product__option-title">{{ section.settings.glove-3-gift-title }}</h3>
                    <p class="section-product__option-discount">{{ section.settings.glove-3-gift-subtitle }}</p>
                    <div class="section-product__icon">
                        {% render 'gift-lock' %}
                    </div>
                </li>
            </ul>
            <div class="section-product__header">{{ section.settings.glove-discount }}</div>
            <a href="{{ section.settings.glove-link }}" class="section-product__button">
                SELECT GLOVES
                <img src="{{ 'arrow.svg' | asset_url }}" alt="arrow">
            </a>
        </div>
        <div class="section-product__review">
            <div class="section-product__review-wrapper">
                <div>
                    <div class="section-product__photo">
                        <img src="{{ section.settings.glove-photo-author | img_url: 'original' }}" alt="photo">
                    </div>
                    <p class="section-product__name">{{ section.settings.glove-name-author  }}</p>
                    <div class="section-product__rating">
                        <div>
                            <img src="{{ 'verified.svg' | asset_url }}" alt="verified">
                        </div>
                        <p class="section-product__text">Verified Reviewer</p>
                    </div>
                </div>
                <div>
                    <div class="section-product__headline">
                        <p class="section-product__caption">{{ section.settings.glove-review-author  }}</p>
                        <div class="section-product__stars">
                            <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                            <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                            <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                            <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                            <img src="{{ 'star-orange.svg' | asset_url }}" alt="star">
                        </div>
                    </div>
                    <p class="section-product__desc">{{ section.settings.glove-description-author  }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

{{ 'section-glove.js' | asset_url | script_tag }}

{% schema %}
{
    "name": "section-glove",
    "tag": "section",
    "class": "section-product custom",
    "settings": [
        {
            "id": "glove-photo-0",
            "type": "image_picker",
            "label": "Main photo"
        },
        {
            "id": "glove-photo-1",
            "type": "image_picker",
            "label": "Photo 1"
        },
        {
            "id": "glove-photo-2",
            "type": "image_picker",
            "label": "Photo 2"
        },
        {
            "id": "glove-photo-3",
            "type": "image_picker",
            "label": "Photo 3"
        },
        {
            "id": "glove-photo-4",
            "type": "image_picker",
            "label": "Photo 4"
        },
        {
            "id": "glove-photo-5",
            "type": "image_picker",
            "label": "Photo 5"
        },
        {
            "id": "glove-photo-author",
            "type": "image_picker",
            "label": "Photo author"
        },
        {
            "id" : "glove-name-author",
            "type" : "text",
            "label" : "Name author",
            "default": "Christian N"
        },
        {
            "id": "glove-review-author",
            "type": "text",
            "label": "Review",
            "default": "Best gloves I’ve ever used"
        },
        {
            "id": "glove-description-author",
            "type": "textarea",
            "label": "Description",
            "default": "Bought a pair of spectra personalised pink gloves and have worn them over 20 times now in both training and matches. Best gloves I’ve ever used for both comfort and quality."
        },
        {
            "id": "glove-mark",
            "type": "text",
            "label": "Mark",
            "default": "4.5/5"
        },
        {
            "id": "glove-evaluation",
            "type": "text",
            "label": "Evaluation",
            "default": "“Excellent”"
        },
        {
            "id": "glove-reviews",
            "type": "text",
            "label": "Reviews",
            "default": "100+ Reviews"
        },
        {
            "id": "glove-title",
            "type": "text",
            "label": "Title",
            "default": "save up to 53% today + 3 free gifts"
        },
        {
            "id": "glove-subtitle",
            "type": "text",
            "label": "Subtitle",
            "default": "With Todays Bundle & Save Off"
        },
        {
            "id": "glove-1-pair-photo",
            "type": "image_picker",
            "label": "1 Pair photo"
        },
        {
            "id": "glove-1-pair-price",
            "type": "text",
            "label": "1 Pair price",
            "default": "£52.99"
        },
        {
            "id": "glove-1-pair-discount",
            "type": "text",
            "label": "1 Pair discount"
        },
        {
            "id": "glove-2-pair-photo",
            "type": "image_picker",
            "label": "2 Pair photo"
        },
        {
            "id": "glove-2-pair-price",
            "type": "text",
            "label": "2 Pair price",
            "default": "£90"
        },
        {
            "id": "glove-2-pair-discount",
            "type": "text",
            "label": "2 Pair discount",
            "default": "SAVE 25%"
        },
        {
            "id": "glove-3-pair-photo",
            "type": "image_picker",
            "label": "3 Pair photo"
        },
        {
            "id": "glove-3-pair-price",
            "type": "text",
            "label": "3 Pair price",
            "default": "£120"
        },
        {
            "id": "glove-3-pair-discount",
            "type": "text",
            "label": "3 Pair discount",
            "default": "SAVE 53%"
        },
        {
            "id": "glove-1-gift-photo",
            "type": "image_picker",
            "label": "1 Gift photo"
        },
        {
            "id": "glove-1-gift-title",
            "type": "text",
            "label": "1 Gift title",
            "default": "Free Shipping"
        },
        {
            "id": "glove-1-gift-subtitle",
            "type": "text",
            "label": "1 Gift subtitle",
            "default": "You saved £7.00"
        },
        {
            "id": "glove-2-gift-photo",
            "type": "image_picker",
            "label": "2 Gift photo"
        },
        {
            "id": "glove-2-gift-title",
            "type": "text",
            "label": "2 Gift title",
            "default": "Free Gift"
        },
        {
            "id": "glove-2-gift-subtitle",
            "type": "text",
            "label": "2 Gift subtitle",
            "default": "You saved £19.99"
        },
        {
            "id": "glove-3-gift-photo",
            "type": "image_picker",
            "label": "3 Gift photo"
        },
        {
            "id": "glove-3-gift-title",
            "type": "text",
            "label": "3 Gift title",
            "default": "Goalkeeper Workout Plan"
        },
        {
            "id": "glove-3-gift-subtitle",
            "type": "text",
            "label": "3 Gift subtitle",
            "default": "You saved £9.99"
        },
        {
            "id": "glove-discount",
            "type": "text",
            "label": "Discount",
            "default": "Bundle & Save - Save 53%"
        },
        {
            "id": "glove-link",
            "type": "url",
            "label": "Link"
        }
    ],
    "presets" : [
        {
            "name" : "section-glove",
            "category" : "Custom"
        }
    ]
}
{% endschema %}